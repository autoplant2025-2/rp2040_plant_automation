# Control Logic & Requirements

## 1. Core Control Logic
*   **Scripting Engine**: Rhai
*   **Inputs**:
    *   Current Time
    *   Days since planting (Plant Day)
*   **Outputs**:
    *   Target Environmental Conditions (Temperature, Humidity, Light, etc.)
*   **Operation**: The system continuously adjusts the chamber environment to match the targets generated by the Rhai script.

## 2. Constraints & Safety
### Temperature Constraints
*   **Peltier Protection**: Maintain Peltier element temperature within a safe range (e.g., 0째C ~ 60째C).
    *   Prevent freezing (0째C lower limit).
    *   Prevent overheating/damage (60째C upper limit).

### Noise & Fan Control
*   **User Limits**: Allow users to set a maximum limit for fan output.
*   **Stability**: Implement smooth transitions for fan speeds. Avoid rapid, jarring changes in fan speed (hysteresis or smoothing).

## 3. User Interaction & Settings
*   **Control Rules**: Ability to read and modify control parameters/scripts.
*   **User Settings**:
    *   Modify current Date/Time.
    *   Modify "Plant Days" (start date).
    *   Edit/Upload Rhai control scripts.

## 4. Logging & Monitoring
*   **Data Points**:
    *   External Temperature/Humidity
    *   Internal Chamber Environment (Temp, Humidity, Soil, etc.)
    *   System Status (Peltier temps, Fan speeds)
*   **Storage**:
    *   SD Card (Long-term storage)
*   **Access**:
    *   HTTP Server: Retrieve logs for the last *n* hours.
    *   Display/Dashboard monitoring.

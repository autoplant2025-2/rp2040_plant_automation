warning: unused config key `build.target_os` in `C:\Users\PC\rp2040_plant_automation\.cargo\config.toml`
warning: direct cast of function item into an integer
   --> embassy\embassy-rp\src\multicore.rs:257:28
    |
257 |         core1_startup::<F> as usize,
    |                            ^^^^^^^^
    |
    = note: `#[warn(function_casts_as_integer)]` on by default
help: first cast to a pointer `as *const ()`
    |
257 |         core1_startup::<F> as *const () as usize,
    |                            ++++++++++++

warning: `embassy-rp` (lib) generated 1 warning (run `cargo fix --lib -p embassy-rp` to apply 1 suggestion)
    Checking rp2040_plant_automation v0.1.0 (C:\Users\PC\rp2040_plant_automation)
error[E0432]: unresolved import `crate::hardware_manager::ActuatorOutputs`
   --> src\control.rs:129:32
    |
129 | use crate::hardware_manager::{ ActuatorOutputs};
    |                                ^^^^^^^^^^^^^^^ no `ActuatorOutputs` in `hardware_manager`

error[E0432]: unresolved import `crate::hardware_manager::ActuatorOutputs`
  --> src\main.rs:50:69
   |
50 | use crate::hardware_manager::{HardwareManager, SharedActuatorState, ActuatorOutputs, HardwareInterface};
   |                                                                     ^^^^^^^^^^^^^^^ no `ActuatorOutputs` in `hardware_manager`

error[E0432]: unresolved imports `crate::ui::PlantValue`, `crate::ui::Plant`, `crate::ui::PlantNameValue`
 --> src\ui\dashboard_task.rs:9:29
  |
9 | use crate::ui::{EmbeddedUI, PlantValue, Plant, PlantNameValue, PlantName};
  |                             ^^^^^^^^^^  ^^^^^  ^^^^^^^^^^^^^^ no `PlantNameValue` in `ui`
  |                             |           |
  |                             |           no `Plant` in `ui`
  |                             no `PlantValue` in `ui`
  |                             help: a similar name exists in the module: `PlantName`

error[E0425]: cannot find type `Rc` in this scope
 --> src\hardware_manager.rs:5:32
  |
5 | pub type SharedActuatorState = Rc<Mutex<CriticalSectionRawMutex, ActuatorOutputs>>;
  |                                ^^ not found in this scope
  |
help: consider importing one of these structs
  |
1 + use crate::Rc;
  |
1 + use alloc::rc::Rc;
  |

error[E0425]: cannot find type `ActuatorOutputs` in this scope
 --> src\hardware_manager.rs:5:66
  |
5 | pub type SharedActuatorState = Rc<Mutex<CriticalSectionRawMutex, ActuatorOutputs>>;
  |                                                                  ^^^^^^^^^^^^^^^ not found in this scope
  |
help: you might be missing a type parameter
  |
5 | pub type SharedActuatorState<ActuatorOutputs> = Rc<Mutex<CriticalSectionRawMutex, ActuatorOutputs>>;
  |                             +++++++++++++++++

error[E0425]: cannot find type `ActuatorOutputs` in this scope
 --> src\hardware_manager.rs:9:43
  |
9 |     async fn actuate(&mut self, outputs: &ActuatorOutputs);
  |                                           ^^^^^^^^^^^^^^^ not found in this scope

error[E0425]: cannot find type `ActuatorOutputs` in this scope
  --> src\hardware_manager.rs:65:43
   |
65 |     async fn actuate(&mut self, outputs: &ActuatorOutputs) {
   |                                           ^^^^^^^^^^^^^^^ not found in this scope

warning: unused import: `pcf8591_async::Pcf8591`
  --> src\sensor_manager.rs:11:5
   |
11 | use pcf8591_async::Pcf8591;
   |     ^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused imports: `Config as AdcConfig` and `InterruptHandler as AdcInterruptHandler`
  --> src\sensor_manager.rs:58:28
   |
58 | use embassy_rp::adc::{Adc, Config as AdcConfig, Channel, InterruptHandler as AdcInterruptHandler};
   |                            ^^^^^^^^^^^^^^^^^^^           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `Level`
 --> src\hardware_manager.rs:2:32
  |
2 | use embassy_rp::gpio::{Output, Level};
  |                                ^^^^^

warning: unused import: `alloc::vec::Vec`
 --> src\userscript.rs:5:5
  |
5 | use alloc::vec::Vec;
  |     ^^^^^^^^^^^^^^^

warning: unused import: `alloc::rc::Rc`
 --> src\persistence_manager.rs:1:5
  |
1 | use alloc::rc::Rc;
  |     ^^^^^^^^^^^^^

warning: unused import: `embassy_executor::Spawner`
 --> src\persistence_manager.rs:2:5
  |
2 | use embassy_executor::Spawner;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `embassy_rp::Peri`
 --> src\persistence_manager.rs:4:5
  |
4 | use embassy_rp::Peri;
  |     ^^^^^^^^^^^^^^^^

warning: unused imports: `DMA_CH0` and `DMA_CH1`
 --> src\persistence_manager.rs:5:31
  |
5 | use embassy_rp::peripherals::{DMA_CH0, DMA_CH1, FLASH};
  |                               ^^^^^^^  ^^^^^^^

warning: unused import: `embassy_sync::blocking_mutex::raw::CriticalSectionRawMutex`
 --> src\persistence_manager.rs:6:5
  |
6 | use embassy_sync::blocking_mutex::raw::CriticalSectionRawMutex;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `embassy_sync::mutex::Mutex`
 --> src\persistence_manager.rs:7:5
  |
7 | use embassy_sync::mutex::Mutex;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::config_manager::ConfigManager`
  --> src\persistence_manager.rs:10:5
   |
10 | use crate::config_manager::ConfigManager;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `embassy_executor::Spawner`
 --> src\config_manager.rs:2:5
  |
2 | use embassy_executor::Spawner;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `PIO0`
 --> src\ui\encoder_button_input_task.rs:4:38
  |
4 | use embassy_rp::peripherals::{PIN_8, PIO0};
  |                                      ^^^^

warning: unused imports: `Direction` and `PioEncoder`
 --> src\ui\encoder_button_input_task.rs:5:48
  |
5 | use embassy_rp::pio_programs::rotary_encoder::{Direction, PioEncoder};
  |                                                ^^^^^^^^^  ^^^^^^^^^^

warning: unused import: `embassy_rp::pio::Pio`
 --> src\ui\lcd_task.rs:7:5
  |
7 | use embassy_rp::pio::Pio;
  |     ^^^^^^^^^^^^^^^^^^^^

warning: unused import: `embassy_rp::time_driver::init`
 --> src\ui\initial_configuration.rs:5:5
  |
5 | use embassy_rp::time_driver::init;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `SharedString`
 --> src\ui\initial_configuration.rs:9:39
  |
9 | use slint::{ComponentHandle, ModelRc, SharedString, VecModel};
  |                                       ^^^^^^^^^^^^

warning: unused import: `cyw43::Control`
 --> src\network\mod.rs:2:5
  |
2 | use cyw43::Control;
  |     ^^^^^^^^^^^^^^

warning: unused import: `alloc::string::ToString`
 --> src\network\http_server.rs:3:5
  |
3 | use alloc::string::ToString;
  |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `embassy_sync::blocking_mutex::raw::CriticalSectionRawMutex`
  --> src\main.rs:52:5
   |
52 | use embassy_sync::blocking_mutex::raw::CriticalSectionRawMutex;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0277]: the trait bound `embassy_rp::peripherals::ADC: embassy_rp::adc::Mode` is not satisfied
   --> src\sensor_manager.rs:76:10
    |
 76 |     adc: Adc<'a, ADC>,
    |          ^^^^^^^^^^^^ the trait `embassy_rp::adc::Mode` is not implemented for `embassy_rp::peripherals::ADC`
    |
help: the following other types implement trait `embassy_rp::adc::Mode`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:129:1
    |
129 | impl Mode for Async {}
    | ^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Async`
...
133 | impl Mode for Blocking {}
    | ^^^^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Blocking`
note: required by a bound in `embassy_rp::adc::Adc`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:136:23
    |
136 | pub struct Adc<'d, M: Mode> {
    |                       ^^^^ required by this bound in `Adc`

error[E0277]: the trait bound `embassy_rp::peripherals::ADC: embassy_rp::adc::Mode` is not satisfied
   --> src\sensor_manager.rs:278:10
    |
278 |     adc: Adc<'static, ADC>,
    |          ^^^^^^^^^^^^^^^^^ the trait `embassy_rp::adc::Mode` is not implemented for `embassy_rp::peripherals::ADC`
    |
help: the following other types implement trait `embassy_rp::adc::Mode`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:129:1
    |
129 | impl Mode for Async {}
    | ^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Async`
...
133 | impl Mode for Blocking {}
    | ^^^^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Blocking`
note: required by a bound in `embassy_rp::adc::Adc`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:136:23
    |
136 | pub struct Adc<'d, M: Mode> {
    |                       ^^^^ required by this bound in `Adc`

error[E0277]: the trait bound `embassy_rp::peripherals::ADC: embassy_rp::adc::Mode` is not satisfied
   --> src\sensor_manager.rs:275:1
    |
275 | #[embassy_executor::task]
    | ^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `embassy_rp::adc::Mode` is not implemented for `embassy_rp::peripherals::ADC`
    |
help: the following other types implement trait `embassy_rp::adc::Mode`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:129:1
    |
129 | impl Mode for Async {}
    | ^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Async`
...
133 | impl Mode for Blocking {}
    | ^^^^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Blocking`
note: required by a bound in `embassy_rp::adc::Adc`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:136:23
    |
136 | pub struct Adc<'d, M: Mode> {
    |                       ^^^^ required by this bound in `Adc`
    = note: this error originates in the attribute macro `embassy_executor::task` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: variable does not need to be mutable
   --> src\ui\initial_configuration.rs:174:9
    |
174 |                 let mut network_stack = network_stack.lock().await;
    |                     ----^^^^^^^^^^^^^
    |                     |
    |                     help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

error[E0277]: the trait bound `embassy_rp::peripherals::ADC: embassy_rp::adc::Mode` is not satisfied
   --> src\main.rs:121:59
    |
121 |     spawner.spawn(crate::sensor_manager::sensor_task(i2c, adc, ch_soil, ch_ec, shared_sensor_data.clone()).unwrap());
    |                                                           ^^^ the trait `embassy_rp::adc::Mode` is not implemented for `embassy_rp::peripherals::ADC`
    |
help: the following other types implement trait `embassy_rp::adc::Mode`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:129:1
    |
129 | impl Mode for Async {}
    | ^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Async`
...
133 | impl Mode for Blocking {}
    | ^^^^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Blocking`
note: required by a bound in `embassy_rp::adc::Adc`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:136:23
    |
136 | pub struct Adc<'d, M: Mode> {
    |                       ^^^^ required by this bound in `Adc`

error[E0308]: mismatched types
   --> src\main.rs:121:59
    |
121 |     spawner.spawn(crate::sensor_manager::sensor_task(i2c, adc, ch_soil, ch_ec, shared_sensor_data.clone()).unwrap());
    |                   ----------------------------------      ^^^ expected `Adc<'_, ADC>`, found `Adc<'_, Async>`
    |                   |
    |                   arguments to this function are incorrect
    |
    = note: expected struct `embassy_rp::adc::Adc<'static, embassy_rp::peripherals::ADC>`
               found struct `embassy_rp::adc::Adc<'_, embassy_rp::adc::Async>`
note: function defined here
   --> src\sensor_manager.rs:276:14
    |
276 | pub async fn sensor_task(
    |              ^^^^^^^^^^^
277 |     i2c: embassy_rp::i2c::I2c<'static, embassy_rp::peripherals::I2C0, embassy_rp::i2c::Async>,
278 |     adc: Adc<'static, ADC>,
    |     ----------------------

error[E0277]: the trait bound `embassy_rp::peripherals::ADC: embassy_rp::adc::Mode` is not satisfied
   --> src\sensor_manager.rs:87:14
    |
 87 |         adc: Adc<'a, ADC>,
    |              ^^^^^^^^^^^^ the trait `embassy_rp::adc::Mode` is not implemented for `embassy_rp::peripherals::ADC`
    |
help: the following other types implement trait `embassy_rp::adc::Mode`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:129:1
    |
129 | impl Mode for Async {}
    | ^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Async`
...
133 | impl Mode for Blocking {}
    | ^^^^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Blocking`
note: required by a bound in `embassy_rp::adc::Adc`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:136:23
    |
136 | pub struct Adc<'d, M: Mode> {
    |                       ^^^^ required by this bound in `Adc`

error[E0599]: no method named `read` found for struct `embassy_rp::adc::Adc<'a, embassy_rp::peripherals::ADC>` in the current scope
   --> src\sensor_manager.rs:211:28
    |
211 |         let raw = self.adc.read(&mut self.pin_soil).await;
    |                            ^^^^ method not found in `embassy_rp::adc::Adc<'a, embassy_rp::peripherals::ADC>`
    |
    = note: the method was found for
            - `embassy_rp::adc::Adc<'d, embassy_rp::adc::Async>`

error[E0599]: no method named `read` found for struct `embassy_rp::adc::Adc<'a, embassy_rp::peripherals::ADC>` in the current scope
   --> src\sensor_manager.rs:221:28
    |
221 |         let raw = self.adc.read(&mut self.pin_ec).await;
    |                            ^^^^ method not found in `embassy_rp::adc::Adc<'a, embassy_rp::peripherals::ADC>`
    |
    = note: the method was found for
            - `embassy_rp::adc::Adc<'d, embassy_rp::adc::Async>`

error[E0277]: the trait bound `embassy_rp::peripherals::ADC: embassy_rp::adc::Mode` is not satisfied
   --> src\sensor_manager.rs:278:5
    |
278 |     adc: Adc<'static, ADC>,
    |     ^^^ the trait `embassy_rp::adc::Mode` is not implemented for `embassy_rp::peripherals::ADC`
    |
help: the following other types implement trait `embassy_rp::adc::Mode`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:129:1
    |
129 | impl Mode for Async {}
    | ^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Async`
...
133 | impl Mode for Blocking {}
    | ^^^^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Blocking`
note: required by a bound in `embassy_rp::adc::Adc`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:136:23
    |
136 | pub struct Adc<'d, M: Mode> {
    |                       ^^^^ required by this bound in `Adc`

error[E0277]: the trait bound `embassy_rp::peripherals::ADC: embassy_rp::adc::Mode` is not satisfied
   --> src\sensor_manager.rs:284:48
    |
284 |     let mut manager = SensorManager::new(&bus, adc, pin_soil, pin_ec);
    |                                                ^^^ the trait `embassy_rp::adc::Mode` is not implemented for `embassy_rp::peripherals::ADC`
    |
help: the following other types implement trait `embassy_rp::adc::Mode`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:129:1
    |
129 | impl Mode for Async {}
    | ^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Async`
...
133 | impl Mode for Blocking {}
    | ^^^^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Blocking`
note: required by a bound in `embassy_rp::adc::Adc`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:136:23
    |
136 | pub struct Adc<'d, M: Mode> {
    |                       ^^^^ required by this bound in `Adc`

error[E0277]: the trait bound `embassy_rp::peripherals::ADC: embassy_rp::adc::Mode` is not satisfied
   --> src\sensor_manager.rs:125:13
    |
125 |             adc,
    |             ^^^ the trait `embassy_rp::adc::Mode` is not implemented for `embassy_rp::peripherals::ADC`
    |
help: the following other types implement trait `embassy_rp::adc::Mode`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:129:1
    |
129 | impl Mode for Async {}
    | ^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Async`
...
133 | impl Mode for Blocking {}
    | ^^^^^^^^^^^^^^^^^^^^^^ `embassy_rp::adc::Blocking`
note: required by a bound in `embassy_rp::adc::Adc`
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-rp\src\adc.rs:136:23
    |
136 | pub struct Adc<'d, M: Mode> {
    |                       ^^^^ required by this bound in `Adc`

error[E0308]: mismatched types
   --> src\ui\mod.rs:206:16
    |
206 | ...wner.spawn(initial_configuration_ui_task(ui.clone_strong(), config.clone(), wifi_control, network_stack, time_manager)).unwrap();
    |         ----- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `SpawnToken<_>`, found `Result<SpawnToken<impl Sized>, ...>`
    |         |
    |         arguments to this method are incorrect
    |
   ::: src\ui\initial_configuration.rs:16:1
    |
 16 | #[embassy_executor::task]
    | ------------------------- the found opaque type
    |
    = note: expected struct `SpawnToken<_>`
                 found enum `core::result::Result<SpawnToken<impl Sized>, SpawnError>`
note: method defined here
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-executor\src\spawner.rs:162:12
    |
162 |     pub fn spawn<S>(&self, token: SpawnToken<S>) {
    |            ^^^^^
help: consider using `Result::expect` to unwrap the `core::result::Result<SpawnToken<impl Sized>, SpawnError>` value, panicking if the value is a `Result::Err`
    |
206 |     spawner.spawn(initial_configuration_ui_task(ui.clone_strong(), config.clone(), wifi_control, network_stack, time_manager).expect("REASON")).unwrap();
    |                                                                                                                              +++++++++++++++++

error[E0599]: no method named `unwrap` found for unit type `()` in the current scope
   --> src\ui\mod.rs:206:125
    |
206 | ... config.clone(), wifi_control, network_stack, time_manager)).unwrap();
    |                                                                 ^^^^^^
    |
help: there is a method `unwrapped_as` with a similar name
    |
206 |     spawner.spawn(initial_configuration_ui_task(ui.clone_strong(), config.clone(), wifi_control, network_stack, time_manager)).unwrapped_as();
    |                                                                                                                                      ++++++

error[E0308]: mismatched types
   --> src\ui\mod.rs:207:19
    |
207 |     spawner.spawn(dashboard_task(ui.as_weak(), config, sensor_data, actuator_state)).unwrap();
    |             ----- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `SpawnToken<_>`, found `Result<SpawnToken<impl Sized>, ...>`
    |             |
    |             arguments to this method are incorrect
    |
   ::: src\ui\dashboard_task.rs:11:1
    |
 11 | #[embassy_executor::task]
    | ------------------------- the found opaque type
    |
    = note: expected struct `SpawnToken<_>`
                 found enum `core::result::Result<SpawnToken<impl Sized>, SpawnError>`
note: method defined here
   --> C:\Users\PC\rp2040_plant_automation\embassy\embassy-executor\src\spawner.rs:162:12
    |
162 |     pub fn spawn<S>(&self, token: SpawnToken<S>) {
    |            ^^^^^
help: consider using `Result::expect` to unwrap the `core::result::Result<SpawnToken<impl Sized>, SpawnError>` value, panicking if the value is a `Result::Err`
    |
207 |     spawner.spawn(dashboard_task(ui.as_weak(), config, sensor_data, actuator_state).expect("REASON")).unwrap();
    |                                                                                    +++++++++++++++++

error[E0599]: no method named `unwrap` found for unit type `()` in the current scope
   --> src\ui\mod.rs:207:86
    |
207 |     spawner.spawn(dashboard_task(ui.as_weak(), config, sensor_data, actuator_state)).unwrap();
    |                                                                                      ^^^^^^
    |
help: there is a method `unwrapped_as` with a similar name
    |
207 |     spawner.spawn(dashboard_task(ui.as_weak(), config, sensor_data, actuator_state)).unwrapped_as();
    |                                                                                            ++++++

warning: unused variable: `time_str`
  --> src\userscript.rs:27:106
   |
27 | ... days_since_start: u32, time_str: &str) -> TargetState {
   |                            ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_time_str`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

Some errors have detailed explanations: E0277, E0308, E0425, E0432, E0599.
For more information about an error, try `rustc --explain E0277`.
warning: `rp2040_plant_automation` (bin "rp2040_plant_automation") generated 22 warnings
error: could not compile `rp2040_plant_automation` (bin "rp2040_plant_automation") due to 26 previous errors; 22 warnings emitted
